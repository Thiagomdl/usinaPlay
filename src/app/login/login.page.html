<ion-content class="ion-padding">

  <div class="logo-container">
    <img class="logo" src="./assets/images/logo.png" alt="Logo">
  </div>

  <form [formGroup]="credentials" (ngSubmit)="login()">
    <ion-item fill="solid" class="ion-margin-bottom">
      <ion-input type="email" placeholder="E-mail" formControlName="email"></ion-input>
      <ion-label class="errorText" slot="error" *ngIf="credentials?.get('email')?.invalid && (credentials?.get('email')?.dirty || credentials?.get('email')?.touched)">E-mail Inválido</ion-label>
    </ion-item>

    <ion-item fill="solid" class="ion-margin-bottom">
      <ion-input type="password" placeholder="Senha" formControlName="password"></ion-input>
      <ion-label class="errorText" slot="error" *ngIf="credentials?.get('password')?.invalid && (credentials?.get('password')?.dirty || credentials?.get('password')?.touched)">A senha deve ter no mínimo 6 caracteres</ion-label>
    </ion-item>
    
    <ion-button expand="full" type="submit" [disabled]="!(credentials?.get('email')?.value) || !(credentials?.get('password')?.value)" *ngIf="!showRegisterFields">Login</ion-button>
    
    <ion-label class="registerText" (click)="showRegisterFields = true"  *ngIf="!showRegisterFields">Você não tem uma conta? Registre-se</ion-label>
    
    <div *ngIf="showRegisterFields">
      <ion-item fill="solid" class="ion-margin-bottom">
        <ion-input type="text" placeholder="Nome" formControlName="name"></ion-input>
      </ion-item>
      
      <ion-item fill="solid" class="ion-margin-bottom">
        <ion-label position="stacked">Plano:</ion-label>
        <ion-select formControlName="plan">
          <ion-select-option value="roxo">Plano Roxo</ion-select-option>
          <ion-select-option value="verde">Plano Verde</ion-select-option>
          <ion-select-option value="azul">Plano Azul</ion-select-option>
        </ion-select>
      </ion-item>
      
      <ion-button expand="full" type="button" (click)="register()">Registrar</ion-button>
    </div>
  </form>
</ion-content>
